<html>
<script src="https://cdn.jsdelivr.net/npm/socket.io-client@2/dist/socket.io.js"></script>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>

<script>
    var socket = io.connect('http://127.0.0.1:9092');

    socket.on('gameState', function (data) {
        console.log(data);
        print(data);
        Cookies.set('player_uuid', data.user.uuid, { expires: 1 });
    });

    socket.on('error', function (data) {
        console.log(data);
        print(data);
    });

    socket.on('gameDisbanded', function () {
        Cookies.set('player_uuid', null);
        print("game ended");
    });


    socket.emit("connectGame", {
        name: "Rex",
        gameUUID: "12345",
        playerUUID: Cookies.get('player_uuid')
    });


    function print(data) {
        document.getElementById("content").innerHTML = JSON.stringify(data)
    }
</script>
<body id="content">

</body>
</html>
